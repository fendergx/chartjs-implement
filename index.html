<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chart JS Instance</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>
    <br>
    <div class="container">
        <h1>Chart JS Instance</h1>
        <p>
            Documentacion: <a href="https://www.chartjs.org/docs/latest/">link</a>
            <br>Caso de uso: <a href="https://www.chartjs.org/docs/latest/charts/bar.html">Grafico de barras</a>
            <br>Libreria adicional:  <a href="https://getbootstrap.com/docs/5.3/getting-started/introduction/">Bootstrap</a>
        </p>
        <h2>Testing</h2>
        <div style="width: 800px;"><canvas id="desing"></canvas></div><hr>
        <!-- <div style="width: 500px;"><canvas id="dimensions"></canvas></div><br/> -->
         <div style="width: 800px;"><canvas id="acquisitions"></canvas></div>
         <br><hr><h2>Chart TEST</h2>
         <!-- <div style="width: 500px;"><canvas id="dimensions"></canvas></div><br/> -->
          <div style="width: 800px;"><canvas id="testing"></canvas></div>

</div>
    <!-- footer-->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            console.log("Hello World!");
            ChartX();
            ChartNew();
            ChartDesing();
        });

        function ChartX(){
            const data = [
                { mes: 'Enero', count: 10 },
                { mes: 'Febrero', count: 20 },
                { mes: 'Marzo', count: 15 },
                { mes: 'Abril', count: 25 },
                { mes: 'Mayo', count: 22 },
                { mes: 'Junio', count: 30 },
                { mes: 'Julio', count: 28 },
            ];
            new Chart(
                document.getElementById('acquisitions'),
                {
                type: 'bar',
                data: {
                    labels: data.map(row => row.mes),
                    datasets: [
                    {
                        label: 'Adquisiciones por mes',
                        data: data.map(row => row.count),
                        backgroundColor: ["gray"], 
                    },{
                        label: 'Adquisiciones por fecha',
                        data: data.map(row => row.count+10),
                        backgroundColor: ["green"],
                        borderColor: ['#000000'] 
                    }
                    ]
                },
                options: {
                    plugins: {
                        title: {
                        display: true,
                        text: 'Custom Chart Title'
                        }
                    }
                }
            }
            );
        } //end ChartX

        function ChartNew(){
            const data = [
                { label: 'Electivas para Hospitalizaci贸n', count: '116.00' },
                { label: 'Electivas Ambulatorias', count: 93 },
                { label: 'De Emergencia para Hospitalizaci贸n', count: 103},
                { label: 'AbrDe Emergencia Ambulatoriail', count: 131 },
            ];
            new Chart(
                document.getElementById('testing'),
                {
                type: 'bar',
                data: {
                    labels: data.map(row => row.label),
                    datasets: [
                    {
                        label: 'Porcentaje de cumplimiento de metas programadas de servicios finales',
                        data: data.map(row => row.count),
                        backgroundColor: ['#76ACFF','#76C368','#FF754C']
                        //ackgroundColor: ["#000000"], 
                    }
                    ]
                }
                }
            );
        } //end ChartNew


        function ChartDesing(){
            const data = [
                { label: 'Electivas para Hospitalizaci贸n', count: parseFloat("118.68978805395").toFixed(0) },
                { label: 'Electivas Ambulatorias', count: parseFloat(" 96.567164179104").toFixed(0) },
                { label: 'De Emergencia para Hospitalizaci贸n', count: parseFloat("105.86353944563").toFixed(0)},
                { label: 'De Emergencia Ambulatoria', count: parseFloat("134.86842105263").toFixed(0) },
            ];
            new Chart(
                document.getElementById('desing'),
                {
                type: 'bar',
                data: {
                    labels: data.map(row => row.label),
                    datasets: [
                    {
                        label: 'Actividades hospitalarias',
                        data: data.map(row => row.count),
                        //seleccion de colores para barras
                        backgroundColor: ['#76ACFF','#76C368','#FF754C','#FFF678'],
                        //seleccion de configuracion de bordes
                        borderColor: ['gray'],
                        borderWidth: 1.5,
                        borderRadius: 5,
                    }
                    ]
                },
                options: {
                    plugins: {
                        title: {
                        display: true,
                        text: 'Porcentaje de cumplimiento de metas programadas de servicios finales'
                        }
                    },
                }
                }
            );
        } //end ChartNew
    </script>
</body>
</html>